var V=(i,c)=>()=>(c||i((c={exports:{}}).exports,c),c.exports);var R=V(S=>{(function(i){typeof define=="function"&&define.amd?define(["jquery"],i):i(typeof S=="object"&&typeof require=="function"?require("jquery"):jQuery)})(function(i){function c(t,e){var n=this;n.element=t,n.el=i(t),n.suggestions=[],n.badQueries=[],n.selectedIndex=-1,n.currentValue=n.element.value,n.timeoutId=null,n.cachedResponse={},n.onChangeTimeout=null,n.onChange=null,n.isLocal=!1,n.suggestionsContainer=null,n.noSuggestionsContainer=null,n.options=i.extend(!0,{},c.defaults,e),n.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},n.hint=null,n.hintValue="",n.selection=null,n.initialize(),n.setOptions(e)}function b(t,e,n){return t.value.toLowerCase().indexOf(n)!==-1}function w(t){return typeof t=="string"?i.parseJSON(t):t}function I(t,e){if(!e)return t.value;var n="("+x.escapeRegExChars(e)+")";return t.value.replace(new RegExp(n,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")}function T(t,e){return'<div class="autocomplete-group">'+e+"</div>"}var x=function(){return{escapeRegExChars:function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(t){var e=document.createElement("div");return e.className=t,e.style.position="absolute",e.style.display="none",e}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},v=i.noop;c.utils=x,i.Autocomplete=c,c.defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:I,formatGroup:T,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:v,onSearchComplete:v,onSearchError:v,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:b,paramName:"query",transformResult:w,showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1},c.prototype={initialize:function(){var t,e=this,n="."+e.classes.suggestion,o=e.classes.selected,u=e.options;e.element.setAttribute("autocomplete","off"),e.noSuggestionsContainer=i('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),e.suggestionsContainer=c.utils.createNode(u.containerClass),t=i(e.suggestionsContainer),t.appendTo(u.appendTo||"body"),u.width!=="auto"&&t.css("width",u.width),t.on("mouseover.autocomplete",n,function(){e.activate(i(this).data("index"))}),t.on("mouseout.autocomplete",function(){e.selectedIndex=-1,t.children("."+o).removeClass(o)}),t.on("click.autocomplete",n,function(){e.select(i(this).data("index"))}),t.on("click.autocomplete",function(){clearTimeout(e.blurTimeoutId)}),e.fixPositionCapture=function(){e.visible&&e.fixPosition()},i(window).on("resize.autocomplete",e.fixPositionCapture),e.el.on("keydown.autocomplete",function(s){e.onKeyPress(s)}),e.el.on("keyup.autocomplete",function(s){e.onKeyUp(s)}),e.el.on("blur.autocomplete",function(){e.onBlur()}),e.el.on("focus.autocomplete",function(){e.onFocus()}),e.el.on("change.autocomplete",function(s){e.onKeyUp(s)}),e.el.on("input.autocomplete",function(s){e.onKeyUp(s)})},onFocus:function(){var t=this;t.fixPosition(),t.el.val().length>=t.options.minChars&&t.onValueChange()},onBlur:function(){var t=this,e=t.options,n=t.el.val(),o=t.getQuery(n);t.blurTimeoutId=setTimeout(function(){t.hide(),t.selection&&t.currentValue!==o&&(e.onInvalidateSelection||i.noop).call(t.element)},200)},abortAjax:function(){var t=this;t.currentRequest&&(t.currentRequest.abort(),t.currentRequest=null)},setOptions:function(t){var e=this,n=i.extend({},e.options,t);e.isLocal=Array.isArray(n.lookup),e.isLocal&&(n.lookup=e.verifySuggestionsFormat(n.lookup)),n.orientation=e.validateOrientation(n.orientation,"bottom"),i(e.suggestionsContainer).css({"max-height":n.maxHeight+"px",width:n.width+"px","z-index":n.zIndex}),this.options=n},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var t=this;t.disabled=!0,clearTimeout(t.onChangeTimeout),t.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var t=this,e=i(t.suggestionsContainer),n=e.parent().get(0);if(n===document.body||t.options.forceFixPosition){var o=t.options.orientation,u=e.outerHeight(),s=t.el.outerHeight(),r=t.el.offset(),l={top:r.top,left:r.left};if(o==="auto"){var a=i(window).height(),g=i(window).scrollTop(),p=-g+r.top-u,f=g+a-(r.top+s+u);o=Math.max(p,f)===p?"top":"bottom"}if(o==="top"?l.top+=-u:l.top+=s,n!==document.body){var m,h=e.css("opacity");t.visible||e.css("opacity",0).show(),m=e.offsetParent().offset(),l.top-=m.top,l.top+=n.scrollTop,l.left-=m.left,t.visible||e.css("opacity",h).hide()}t.options.width==="auto"&&(l.width=t.el.outerWidth()+"px"),e.css(l)}},isCursorAtEnd:function(){var t,e=this,n=e.el.val().length,o=e.element.selectionStart;return typeof o=="number"?o===n:!document.selection||(t=document.selection.createRange(),t.moveStart("character",-n),n===t.text.length)},onKeyPress:function(t){var e=this;if(!e.disabled&&!e.visible&&t.which===d.DOWN&&e.currentValue)return void e.suggest();if(!e.disabled&&e.visible){switch(t.which){case d.ESC:e.el.val(e.currentValue),e.hide();break;case d.RIGHT:if(e.hint&&e.options.onHint&&e.isCursorAtEnd()){e.selectHint();break}return;case d.TAB:if(e.hint&&e.options.onHint)return void e.selectHint();if(e.selectedIndex===-1)return void e.hide();if(e.select(e.selectedIndex),e.options.tabDisabled===!1)return;break;case d.RETURN:if(e.selectedIndex===-1)return void e.hide();e.select(e.selectedIndex);break;case d.UP:e.moveUp();break;case d.DOWN:e.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}},onKeyUp:function(t){var e=this;if(!e.disabled){switch(t.which){case d.UP:case d.DOWN:return}clearTimeout(e.onChangeTimeout),e.currentValue!==e.el.val()&&(e.findBestHint(),e.options.deferRequestBy>0?e.onChangeTimeout=setTimeout(function(){e.onValueChange()},e.options.deferRequestBy):e.onValueChange())}},onValueChange:function(){if(this.ignoreValueChange)return void(this.ignoreValueChange=!1);var t=this,e=t.options,n=t.el.val(),o=t.getQuery(n);return t.selection&&t.currentValue!==o&&(t.selection=null,(e.onInvalidateSelection||i.noop).call(t.element)),clearTimeout(t.onChangeTimeout),t.currentValue=n,t.selectedIndex=-1,e.triggerSelectOnValidInput&&t.isExactMatch(o)?void t.select(0):void(o.length<e.minChars?t.hide():t.getSuggestions(o))},isExactMatch:function(t){var e=this.suggestions;return e.length===1&&e[0].value.toLowerCase()===t.toLowerCase()},getQuery:function(t){var e,n=this.options.delimiter;return n?(e=t.split(n),i.trim(e[e.length-1])):t},getSuggestionsLocal:function(t){var e,n=this,o=n.options,u=t.toLowerCase(),s=o.lookupFilter,r=parseInt(o.lookupLimit,10);return e={suggestions:i.grep(o.lookup,function(l){return s(l,t,u)})},r&&e.suggestions.length>r&&(e.suggestions=e.suggestions.slice(0,r)),e},getSuggestions:function(t){var e,n,o,u,s=this,r=s.options,l=r.serviceUrl;if(r.params[r.paramName]=t,r.onSearchStart.call(s.element,r.params)!==!1){if(n=r.ignoreParams?null:r.params,i.isFunction(r.lookup))return void r.lookup(t,function(a){s.suggestions=a.suggestions,s.suggest(),r.onSearchComplete.call(s.element,t,a.suggestions)});s.isLocal?e=s.getSuggestionsLocal(t):(i.isFunction(l)&&(l=l.call(s.element,t)),o=l+"?"+i.param(n||{}),e=s.cachedResponse[o]),e&&Array.isArray(e.suggestions)?(s.suggestions=e.suggestions,s.suggest(),r.onSearchComplete.call(s.element,t,e.suggestions)):s.isBadQuery(t)?r.onSearchComplete.call(s.element,t,[]):(s.abortAjax(),u={url:l,data:n,type:r.type,dataType:r.dataType},i.extend(u,r.ajaxSettings),s.currentRequest=i.ajax(u).done(function(a){var g;s.currentRequest=null,g=r.transformResult(a,t),s.processResponse(g,t,o),r.onSearchComplete.call(s.element,t,g.suggestions)}).fail(function(a,g,p){r.onSearchError.call(s.element,t,a,g,p)}))}},isBadQuery:function(t){if(!this.options.preventBadQueries)return!1;for(var e=this.badQueries,n=e.length;n--;)if(t.indexOf(e[n])===0)return!0;return!1},hide:function(){var t=this,e=i(t.suggestionsContainer);i.isFunction(t.options.onHide)&&t.visible&&t.options.onHide.call(t.element,e),t.visible=!1,t.selectedIndex=-1,clearTimeout(t.onChangeTimeout),i(t.suggestionsContainer).hide(),t.signalHint(null)},suggest:function(){if(!this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var t,e=this,n=e.options,o=n.groupBy,u=n.formatResult,s=e.getQuery(e.currentValue),r=e.classes.suggestion,l=e.classes.selected,a=i(e.suggestionsContainer),g=i(e.noSuggestionsContainer),p=n.beforeRender,f="",m=function(h,C){var y=h.data[o];return t===y?"":(t=y,n.formatGroup(h,t))};return n.triggerSelectOnValidInput&&e.isExactMatch(s)?void e.select(0):(i.each(e.suggestions,function(h,C){o&&(f+=m(C)),f+='<div class="'+r+'" data-index="'+h+'">'+u(C,s,h)+"</div>"}),this.adjustContainerWidth(),g.detach(),a.html(f),i.isFunction(p)&&p.call(e.element,a,e.suggestions),e.fixPosition(),a.show(),n.autoSelectFirst&&(e.selectedIndex=0,a.scrollTop(0),a.children("."+r).first().addClass(l)),e.visible=!0,void e.findBestHint())},noSuggestions:function(){var t=this,e=t.options.beforeRender,n=i(t.suggestionsContainer),o=i(t.noSuggestionsContainer);this.adjustContainerWidth(),o.detach(),n.empty(),n.append(o),i.isFunction(e)&&e.call(t.element,n,t.suggestions),t.fixPosition(),n.show(),t.visible=!0},adjustContainerWidth:function(){var t,e=this,n=e.options,o=i(e.suggestionsContainer);n.width==="auto"?(t=e.el.outerWidth(),o.css("width",t>0?t:300)):n.width==="flex"&&o.css("width","")},findBestHint:function(){var t=this,e=t.el.val().toLowerCase(),n=null;e&&(i.each(t.suggestions,function(o,u){var s=u.value.toLowerCase().indexOf(e)===0;return s&&(n=u),!s}),t.signalHint(n))},signalHint:function(t){var e="",n=this;t&&(e=n.currentValue+t.value.substr(n.currentValue.length)),n.hintValue!==e&&(n.hintValue=e,n.hint=t,(this.options.onHint||i.noop)(e))},verifySuggestionsFormat:function(t){return t.length&&typeof t[0]=="string"?i.map(t,function(e){return{value:e,data:null}}):t},validateOrientation:function(t,e){return t=i.trim(t||"").toLowerCase(),i.inArray(t,["auto","bottom","top"])===-1&&(t=e),t},processResponse:function(t,e,n){var o=this,u=o.options;t.suggestions=o.verifySuggestionsFormat(t.suggestions),u.noCache||(o.cachedResponse[n]=t,u.preventBadQueries&&!t.suggestions.length&&o.badQueries.push(e)),e===o.getQuery(o.currentValue)&&(o.suggestions=t.suggestions,o.suggest())},activate:function(t){var e,n=this,o=n.classes.selected,u=i(n.suggestionsContainer),s=u.find("."+n.classes.suggestion);return u.find("."+o).removeClass(o),n.selectedIndex=t,n.selectedIndex!==-1&&s.length>n.selectedIndex?(e=s.get(n.selectedIndex),i(e).addClass(o),e):null},selectHint:function(){var t=this,e=i.inArray(t.hint,t.suggestions);t.select(e)},select:function(t){var e=this;e.hide(),e.onSelect(t)},moveUp:function(){var t=this;if(t.selectedIndex!==-1)return t.selectedIndex===0?(i(t.suggestionsContainer).children("."+t.classes.suggestion).first().removeClass(t.classes.selected),t.selectedIndex=-1,t.ignoreValueChange=!1,t.el.val(t.currentValue),void t.findBestHint()):void t.adjustScroll(t.selectedIndex-1)},moveDown:function(){var t=this;t.selectedIndex!==t.suggestions.length-1&&t.adjustScroll(t.selectedIndex+1)},adjustScroll:function(t){var e=this,n=e.activate(t);if(n){var o,u,s,r=i(n).outerHeight();o=n.offsetTop,u=i(e.suggestionsContainer).scrollTop(),s=u+e.options.maxHeight-r,o<u?i(e.suggestionsContainer).scrollTop(o):o>s&&i(e.suggestionsContainer).scrollTop(o-e.options.maxHeight+r),e.options.preserveInput||(e.ignoreValueChange=!0,e.el.val(e.getValue(e.suggestions[t].value))),e.signalHint(null)}},onSelect:function(t){var e=this,n=e.options.onSelect,o=e.suggestions[t];e.currentValue=e.getValue(o.value),e.currentValue===e.el.val()||e.options.preserveInput||e.el.val(e.currentValue),e.signalHint(null),e.suggestions=[],e.selection=o,i.isFunction(n)&&n.call(e.element,o)},getValue:function(t){var e,n,o=this,u=o.options.delimiter;return u?(e=o.currentValue,n=e.split(u),n.length===1?t:e.substr(0,e.length-n[n.length-1].length)+t):t},dispose:function(){var t=this;t.el.off(".autocomplete").removeData("autocomplete"),i(window).off("resize.autocomplete",t.fixPositionCapture),i(t.suggestionsContainer).remove()}},i.fn.devbridgeAutocomplete=function(t,e){var n="autocomplete";return arguments.length?this.each(function(){var o=i(this),u=o.data(n);typeof t=="string"?u&&typeof u[t]=="function"&&u[t](e):(u&&u.dispose&&u.dispose(),u=new c(this,t),o.data(n,u))}):this.first().data(n)},i.fn.autocomplete||(i.fn.autocomplete=i.fn.devbridgeAutocomplete)})});export default R();
